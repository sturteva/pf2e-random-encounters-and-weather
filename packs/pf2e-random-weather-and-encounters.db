{"name":"RandWeather-NorthernSagaLands","type":"script","scope":"global","author":"1MFd0yD0bdB7yVcM","img":"icons/svg/dice-target.svg","command":"let confirmed = false;\n\n//Create dialog to get season\nnew Dialog(\n\t{\n\t\ttitle:\"Season Selection\", \n\t\tcontent: `\n\t\t\t<form>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label>Season Selection</label>\n\t\t\t\t\t<select id=\"SeasonSelection\">\n\t\t\t\t\t\t<option value=\"AutumnSpring\" selected=\"selected\">AutumnSpring</option>\n\t\t\t\t\t\t<option value=\"Summer\">Summer</option>\n\t\t\t\t\t\t<option value=\"Winter\">Winter</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</form>`,\n\t\tbuttons:{\n\t\t\tone: { icon: '<i class=\"fas fa-check\"></i>', label: \"Roll\", callback: () => confirmed = true         },\n\t\t\ttwo: { icon: '<i class=\"fas fa-times\"></i>', label: \"Cancel\", callback: () => confirmed = false         }     \n\t\t}, \n\t\tdefault: \"Cancel\", \n\t\tclose: html => {\n\t\t\tif (confirmed) { \n\t\t\t\t//acquire values from user input    \n\t\t\t\tvar seasonSelected = document.getElementById(\"SeasonSelection\").value;\n\n                                //Start of actual accessing RollTables and Compendiums\n\t\t\t\tconst rollTablePack = game.packs.get(\" pf2e-random-encounters-and-weather.pf2e-randweather\");\n\t\t\t\trollTablePack.getIndex();\n\n\t\t\t\tvar precipTableID = precipTableID = rollTablePack.index.find(t => t.name === 'DONOTIMPORT_RandWeather-Precip-NorthernSagaLands-Summer')._id;\n\t\t\t\tvar tempTableID = rollTablePack.index.find(t => t.name === 'DONOTIMPORT_RandWeather-Temp-NorthernSagaLands-Summer')._id;\n\n\t\t\t\tif(seasonSelected === \"Winter\"){\n\t\t\t\t\tprecipTableID = rollTablePack.index.find(t => t.name === 'DONOTIMPORT_RandWeather-Precip-NorthernSagaLands-Winter')._id;\n\t\t\t\t\ttempTableID = rollTablePack.index.find(t => t.name === 'DONOTIMPORT_RandWeather-Temp-NorthernSagaLands-Winter')._id;\n\t\t\t\t}\n\n\t\t\t\telse if (seasonSelected == \"AutumnSpring\"){\n\t\t\t\t\tprecipTableID = rollTablePack.index.find(t => t.name === 'DONOTIMPORT_RandWeather-Precip-NorthernSagaLands-AutumnSpring')._id;\n\t\t\t\t\ttempTableID = rollTablePack.index.find(t => t.name === 'DONOTIMPORT_RandWeather-Temp-NorthernSagaLands-AutumnSpring')._id;\n\t\t\t\t}\n\n\t\t\t\trandEventCheckID = rollTablePack.index.find(t => t.name === 'DONOTIMPORT_RandWeatherEventCheck')._id;\n\t\t\t\trollTablePack.getDocument(precipTableID).then(table => table.draw());\n\t\t\t\trollTablePack.getDocument(tempTableID).then(table => table.draw());\n\t\t\t\trollTablePack.getDocument(randEventCheckID).then(table => table.draw());\n\t\t\t}\n\t\t}\n\t}).render(true)","flags":{"core":{"sourceId":"Macro.mGrCxPs6O8B3L9TF"}},"_stats":{"systemId":"pf2e","systemVersion":"4.5.1","coreVersion":"10.288","createdTime":1671568203004,"modifiedTime":1671576627403,"lastModifiedBy":"1MFd0yD0bdB7yVcM"},"folder":null,"sort":0,"ownership":{"default":0,"1MFd0yD0bdB7yVcM":3},"_id":"dMHnIFbknvdrb0gl"}
{"name":"QftFF Random Encounters","type":"script","scope":"global","author":"1MFd0yD0bdB7yVcM","img":"icons/svg/dice-target.svg","command":"let confirmed = false;\n\n//Create dialog to get season\nnew Dialog(\n\t{\n\t\ttitle:\"Party Level\", \n\t\tcontent: `\n\t\t\t<form>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label>Party Level</label>\n\t\t\t\t\t<select id=\"PartyLevel\">\n\t\t\t\t\t\t<option value=\"1\" selected=\"selected\">1</option>\n\t\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t\t<option value=\"3\">3</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</form>`,\n\t\tbuttons:{\n\t\t\tone: { icon: '<i class=\"fas fa-check\"></i>', label: \"Roll\", callback: () => confirmed = true         },\n\t\t\ttwo: { icon: '<i class=\"fas fa-times\"></i>', label: \"Cancel\", callback: () => confirmed = false         }     \n\t\t}, \n\t\tdefault: \"Cancel\", \n\t\tclose: html => {\n\t\t\tif (confirmed) { \n\t\t\t\t//acquire values from user input    \n\t\t\t\tvar partyLevel = parseInt(document.getElementById(\"PartyLevel\").value);\n\n                                //Start of actual accessing RollTables and Compendiums\n\t\t\t\tconst rollTablePack = game.packs.get(\" pf2e-random-encounters-and-weather.qftff-random-encounters\");\n\t\t\t\trollTablePack.getIndex();\n\t\t\t\t\n\t\t\t\tvar randEncTblID = rollTablePack.index.find(t => t.name === 'QftFF Level 1 Random Encounter Table')._id;\n\n\t\t\t\tif(partyLevel == 2){\n\t\t\t\t\trandEncTblID  = rollTablePack.index.find(t => t.name === 'QftFF Level 2 Random Encounter Table')._id;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse if (partyLevel == 3){\n\t\t\t\t\trandEncTblID  = rollTablePack.index.find(t => t.name === 'QftFF Level 3 Random Encounter Table')._id;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trollTablePack.getDocument(randEncTblID).then(table => table.draw());\n\t\t\t}\n\t\t}\n\t}).render(true)","flags":{"core":{"sourceId":"Macro.5tn53F2L7MA3x0rU"}},"_stats":{"systemId":"pf2e","systemVersion":"4.5.1","coreVersion":"10.288","createdTime":1671575509917,"modifiedTime":1671576629230,"lastModifiedBy":"1MFd0yD0bdB7yVcM"},"folder":null,"sort":0,"ownership":{"default":0,"1MFd0yD0bdB7yVcM":3},"_id":"RFhCZexCVkZlIVUh"}
